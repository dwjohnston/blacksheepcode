# Black box contract tests with jest - Performance

In this post we'll investigate adding peformance tests to our previous contract tests. 

## Step 1 - Let's make the application slow. 

First, we'll make it so that when we `GET /pets` it'll take 1000ms per pet that exists. 

The [commit here](https://github.com/dwjohnston/open-api-go-and-typescript/pull/6/commits/56088855b0bfaa2a2756f2efa50ae1ab36fa8507) achieves this. 

```diff
func (s *DefaultApiService) FindPets(ctx context.Context, tags []string, limit int32) (ImplResponse, error) {
	// TODO - update FindPets with the required logic for this service method.
	// Add api_default_service.go to the .openapi-generator-ignore to avoid overwriting this service implementation when updating open api generation.
	values := []*Pet{}
	for _, value := range pets {
		values = append(values, value)
	}

+	time.Sleep(time.Duration(len(values) * 1000 * int(time.Millisecond)))
	return Response(200, values), nil

}
```



## Write a performance test - jest-bench

Let's try [jest-bench](https://github.com/pckhoi/jest-bench) first. 

This [commit here](https://github.com/dwjohnston/open-api-go-and-typescript/commit/a97f0e7515282aeab359c201a221013bc50b6905) sets up jest-bench in the repo, but I don't implement performance tests. 

Basically jest-bench looks like it is more for performance testing micro optimisations of JavasScript, rather than this black box contract tests that we're trying to do here. 

